{% include "base.html"%} {% block content %}

<main class="container">

  <div>
      <form method="POST" class="d-flex justify-content-between">

        <div style="width:35%" class="input-group mb-3 shadow-sm mt-5 mb-5">
          <button type="submit" class="btn" id="basic-addon1">
            <i class="bi bi-search"></i>
          </button>
          <input 
             id="searchField"
             type="text" 
             class="form-control border-0" 
             name="query" 
             placeholder="Search Country" 
             aria-label="Username" 
             aria-describedby="basic-addon1">
        </div>

        <div style="width:35%" class="input-group mb-3 shadow-sm mt-5 mb-5">
          <select class="form-select border-0" name="continent_filter">
               <option value="">Filter by ragion</option>
               <option value="Africa">Africa</option>
               <option value="Americas">Americas</option>
               <option value="Europe">Europe</option>
               <option value="Asia">Asia</option>
               <option value="Oceania">Oceania</option>
          </select>
        </div>

      </form>

  </div>

  <div class="row">
    {% for country in countries %}

    <div data-country class="col-lg-3 col-md-4 col-sm-6 col-12">
      <a href="/country/{{country['name']['common']|lower}}">
        <article class="card mb-4">
          <img
            style="height: 200px"
            src="{{country['flags']['svg']}}"
            class="card-img-top"
            alt="{{country['flags']['alt']}}"
          />
          <div class="card-body">
            <h5 class="card-title">{{country['name']['common']}}</h5>
            <p class="card-text">Population: {{country['population']}}</p>
            <p class="card-text">Region: {{country['region']}}</p>

            {%if country['capital'] is defined %}
            <p class="card-text">Capital: {{country['capital'][0]}}</p>
            {% else %}
            <p class="card-text">Capital: ?</p>
            {% endif %}
          </div>
          
        </article>
      </a>
    </div>

    {% endfor %}
  </div>
</main>

{% endblock %}
